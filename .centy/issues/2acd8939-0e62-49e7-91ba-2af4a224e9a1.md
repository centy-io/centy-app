---
displayNumber: 146
status: open
priority: 1
createdAt: 2026-02-10T15:53:20.133630+00:00
updatedAt: 2026-02-10T15:53:20.133630+00:00
---

# Update error handling to parse structured JSON error responses from daemon

The daemon is switching from plain string errors to structured JSON error objects (see centy-daemon issue #161).

## What changed in the daemon

The `error` field in gRPC responses will change from plain text:

```
Issue not found: Issue 01eef871-8fde-45b5-b330-571673d84e6a not found
```

To a JSON-serialized object:

```json
{
  "cwd": "/path/to/project",
  "logs": "~/.centy/logs/centy-daemon.log",
  "messages": [
    {
      "message": "Issue not found",
      "tip": "Check that the issue ID or display number is correct, or run 'centy list issues' to see available issues",
      "code": "ISSUE_NOT_FOUND"
    }
  ]
}
```

## What needs to change in the app

1. Update error handling/parsing wherever daemon response errors are consumed
1. Display the `message` field as the primary error text in the UI
1. Display `tip` as a hint/suggestion to the user (e.g., toast, inline help)
1. Use `code` for any programmatic error handling or conditional UI
1. Show the `logs` path when relevant (e.g., unexpected errors, debug info)
1. During the transition period, detect the format: try JSON parse, fall back to displaying the raw string for backward compatibility with older daemon versions
